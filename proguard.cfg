# Сохранить ресурсы (plugin.yml и другие конфиги)
-keepresourcefiles **.yml,**.properties

# Сохранить главный класс плагина (замени com.example.MyPlugin на твой главный класс из plugin.yml)
-keep class com.example.MyPlugin { *; }

# Сохранить классы, реализующие важные интерфейсы Spigot/Paper
-keep class * implements org.bukkit.event.Listener { *; }
-keep class * extends org.bukkit.command.CommandExecutor { *; }
-keep class * extends org.bukkit.plugin.java.JavaPlugin { *; }

# Обфусцировать всё остальное
-repackageclasses '' # Убрать пакеты, всё в один уровень
-flattenpackagehierarchy ''
-obfuscationdictionary dictionary.txt # Использовать словарь для коротких имён

# Сохранить атрибуты для отладки и исключений
-keepattributes Exceptions,InnerClasses,Signature,Deprecated,SourceFile,LineNumberTable,*Annotation*,EnclosingMethod

# Игнорировать предупреждения о Paper/Spigot и Minecraft
-dontwarn org.bukkit.**
-dontwarn net.minecraft.**
-dontwarn com.destroystokyo.paper.**
-dontwarn io.papermc.**

# Опционально: агрессивная обфускация
-optimizationpasses 5
-allowaccessmodification
-overloadaggressively