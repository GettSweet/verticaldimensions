# Документация по плагину VerticalDimensions

**VerticalDimensions** — плагин для серверов Minecraft (Paper), который изменяет механику перемещения между измерениями (Обычный мир, Незер, Энд), заменяя стандартные порталы на телепортацию по высоте. Плагин позволяет настраивать высоты телепортации, эффекты, блокировки порталов и сообщения.

## Установка
1. Скачайте `.jar` файл плагина из раздела [Releases](https://github.com/GettSweet/verticaldimensions/releases).
2. Поместите файл в папку `plugins` вашего сервера.
3. Перезапустите сервер или выполните команду `/reload`.
4. Файл конфигурации `config.yml` будет создан автоматически в папке `plugins/VerticalDimensions`.

## Использование
Плагин активирует телепортацию между мирами при достижении игроком определённых высот (Y-координат). Например, если игрок в Обычном мире опустится ниже Y=-90, он телепортируется в Незер. Также плагин может блокировать стандартные порталы, эндер-жемчуга и транспорт, а также применять эффекты при телепортации.

### Команды
- `/vd` — Показывает основную информацию о плагине (версия, автор, миры, высоты).
- `/vd reload` — Перезагружает конфигурацию (требуется право `verticaldimensions.reload`).
- `/vd info` — Показывает подробную информацию о текущих настройках (миры, высоты).
- `/vd help` — Показывает список доступных команд.

### Права
- `verticaldimensions.reload` — Доступ к команде `/vd reload` (по умолчанию для операторов).
- `verticaldimensions.info` — Доступ к команде `/vd info` (по умолчанию для всех).
- `verticaldimensions.*` — Все права плагина.

## Конфигурация (`config.yml`)

Файл конфигурации `config.yml` находится в папке `plugins/VerticalDimensions`. Ниже приведено подробное описание каждой настройки.

### 1. Настройки миров (`worlds`)
```yaml
worlds:
  overworld: world
  nether: world_nether
  end: world_the_end
```
- `overworld` — Название мира Обычного мира (по умолчанию `world`).
- `nether` — Название мира Незера (по умолчанию `world_nether`).
- `end` — Название мира Энда (по умолчанию `world_the_end`).

**Описание**: Эти параметры задают имена миров, используемых для телепортации. Убедитесь, что имена совпадают с названиями миров на вашем сервере (проверьте в папке сервера или с помощью команды `/mv list` при использовании MultiVerse).

---

### 2. Настройки высот (`heights`)
```yaml
heights:
  end_to_overworld: -55.0
  nether_to_overworld: 1000.0
  overworld_to_nether: -90.0
  overworld_to_end: 2000.0
```
- `end_to_overworld` — Y-координата в Энде, ниже которой игрок телепортируется в Обычный мир (по умолчанию `-55.0`).
- `nether_to_overworld` — Y-координата в Незере, выше которой игрок телепортируется в Обычный мир (по умолчанию `1000.0`).
- `overworld_to_nether` — Y-координата в Обычном мире, ниже которой игрок телепортируется в Незер (по умолчанию `-90.0`).
- `overworld_to_end` — Y-координата в Обычном мире, выше которой игрок телепортируется в Энд (по умолчанию `2000.0`).

**Описание**: Эти параметры определяют пороговые высоты для телепортации между мирами. Например, если игрок в Обычном мире поднимается выше Y=2000, он будет телепортирован в Энд.

---

### 3. Эффекты при обычной телепортации (`effects`)
```yaml
effects:
  slowness:
    duration: 2400
    amplifier: 3
  weakness:
    duration: 24000
    amplifier: 9
  blindness:
    duration: 3600
    amplifier: 0
  nausea:
    duration: 6000
    amplifier: 0
  slow_falling:
    duration: 1000
    amplifier: 0
```
- `slowness` — Замедление:
  - `duration` — Длительность эффекта в тиках (1 секунда = 20 тиков, 2400 = 120 секунд).
  - `amplifier` — Уровень эффекта (0 = уровень 1 в игре, 3 = уровень 4).
- `weakness` — Слабость:
  - `duration` — Длительность в тиках (24000 = 1200 секунд).
  - `amplifier` — Уровень эффекта (9 = уровень 10).
- `blindness` — Слепота:
  - `duration` — Длительность в тиках (3600 = 180 секунд).
  - `amplifier` — Уровень эффекта (0 = уровень 1).
- `nausea` — Тошнота:
  - `duration` — Длительность в тиках (6000 = 300 секунд).
  - `amplifier` — Уровень эффекта (0 = уровень 1).
- `slow_falling` — Плавное падение:
  - `duration` — Длительность в тиках (1000 = 50 секунд).
  - `amplifier` — Уровень эффекта (0 = уровень 1).

**Описание**: Эти эффекты применяются при телепортации между мирами (кроме телепортации в Энд). Вы можете отключить эффект, удалив его из конфига, или добавить свои, следуя формату (например, `regeneration` для регенерации).

---

### 4. Эффекты при телепортации в Энд (`effects_end`)
```yaml
effects_end:
  slowness:
    duration: 2400
    amplifier: 3
  weakness:
    duration: 24000
    amplifier: 9
  blindness:
    duration: 1200
    amplifier: 0
  slow_falling:
    duration: 1000
    amplifier: 0
```
- Аналогично секции `effects`, но применяется только при телепортации в Энд.
- Параметры (`duration`, `amplifier`) работают так же, как в `effects`.

**Описание**: Эти эффекты применяются, когда игрок телепортируется в Энд. Отличие от `effects` в том, что здесь отсутствует эффект `nausea` (тошнота), а длительность слепоты (`blindness`) короче (1200 тиков = 60 секунд).

---

### 5. Настройки порталов (`nether_portal` и `portal_restrictions`)
```yaml
nether_portal:
  prevent_entry: true
  prevent_ender_pearl: true
  prevent_vehicle_with_player: true

portal_restrictions:
  prevent_nether_entry: true
  prevent_end_entry: true
  prevent_nether_to_end: true
  prevent_end_to_nether: true
  prevent_ender_pearl_nether: true
  prevent_ender_pearl_end: true
  prevent_vehicle_nether: true
  prevent_vehicle_end: true
  enable_messages: true
```
- `nether_portal`:
  - `prevent_entry` — Запрещает вход в портал Незера из Обычного мира (`true` — блокировать, `false` — разрешить).
  - `prevent_ender_pearl` — Запрещает использование эндер-жемчугов для телепортации в Незер (`true` — блокировать).
  - `prevent_vehicle_with_player` — Запрещает транспорту с игроками (лодки, вагонетки, лошади и т.д.) проходить в Незер (`true` — блокировать).
- `portal_restrictions`:
  - `prevent_nether_entry` — Запрещает вход в портал Незера из Обычного мира.
  - `prevent_end_entry` — Запрещает вход в портал Энда из Обычного мира.
  - `prevent_nether_to_end` — Запрещает телепортацию из Незера в Энд.
  - `prevent_end_to_nether` — Запрещает телепортацию из Энда в Незер.
  - `prevent_ender_pearl_nether` — Запрещает эндер-жемчуга в Незер.
  - `prevent_ender_pearl_end` — Запрещает эндер-жемчуга в Энд.
  - `prevent_vehicle_nether` — Запрещает транспорт в Незер.
  - `prevent_vehicle_end` — Запрещает транспорт в Энд.
  - `enable_messages` — Включает/выключает сообщения о блокировке порталов (`true` — включены).

**Описание**: Эти настройки позволяют запретить стандартные способы перемещения между мирами, заставляя игроков использовать вертикальную телепортацию. Если `enable_messages: true`, игроки увидят сообщения о блокировке (см. секцию `messages`).

---

### 6. Координаты телепортации (`teleport_y`)
```yaml
teleport_y:
  overworld: 500.0
  nether: 500.0
  end: 70.0
```
- `overworld` — Y-координата, на которую телепортируется игрок в Обычный мир.
- `nether` — Y-координата, на которую телепортируется игрок в Незер.
- `end` — Y-координата, на которую телепортируется игрок в Энд.

**Описание**: Задаёт высоту, на которой игрок появляется после телепортации в соответствующий мир. Например, при телепортации в Энд игрок появится на Y=70.

---

### 7. Настройки сообщений (`messages`)
```yaml
messages:
  portal_blocked: "§cПортал в ад заблокирован! Используйте вертикальную телепортацию."
  end_portal_blocked: "§cПортал в Энд заблокирован! Используйте вертикальную телепортацию."
  nether_to_end_blocked: "§cПортал из ада в Энд заблокирован!"
  end_to_nether_blocked: "§cПортал из Энда в ад заблокирован!"
  vehicle_blocked: "§cТранспорт не может пройти через портал в ад!"
  vehicle_end_blocked: "§cТранспорт не может пройти через портал в Энд!"
```
- `portal_blocked` — Сообщение при блокировке портала в Незер.
- `end_portal_blocked` — Сообщение при блокировке портала в Энд.
- `nether_to_end_blocked` — Сообщение при попытке телепортации из Незера в Энд.
- `end_to_nether_blocked` — Сообщение при попытке телепортации из Энда в Незер.
- `vehicle_blocked` — Сообщение при блокировке транспорта в Незер.
- `vehicle_end_blocked` — Сообщение при блокировке транспорта в Энд.

**Описание**: Эти сообщения отображаются игрокам, если включена настройка `enable_messages: true` в секции `portal_restrictions`. Поддерживаются цветовые коды Minecraft (например, `§c` для красного цвета).

---

## Пример использования
1. Игрок в Обычном мире падает ниже Y=-90 → телепортируется в Незер на Y=500 с эффектами замедления, слабости, слепоты, тошноты и плавного падения.
2. Игрок в Незере поднимается выше Y=1000 → телепортируется в Обычный мир на Y=500 с теми же эффектами.
3. Игрок в Обычном мире поднимается выше Y=2000 → телепортируется в Энд на Y=70 с эффектами замедления, слабости, слепоты и плавного падения.
4. Игрок пытается войти в портал Незера → получает сообщение "Портал в ад заблокирован!" (если `prevent_nether_entry: true`).

## Советы по настройке
- **Высоты телепортации**: Убедитесь, что высоты (`heights`) не пересекаются с игровыми лимитами высоты мира (например, в 1.21 максимум Y=319, минимум Y=-64 для Обычного мира).
- **Эффекты**: Настройте длительность и уровень эффектов в зависимости от сложности игры. Например, уменьшите `weakness.duration` для более мягкого геймплея.
- **Сообщения**: Используйте цветовые коды для улучшения читаемости сообщений.
- **Блокировка порталов**: Отключите блокировки (`prevent_*`) для большей свободы игроков, если не хотите полностью заменять порталы.

## Устранение неполадок
- **Плагин не загружается**: Проверьте, совпадают ли имена миров в `config.yml` с реальными мирами на сервере.
- **Телепортация не работает**: Убедитесь, что высоты в `heights` находятся в пределах допустимых Y-координат мира.
- **Ошибки в консоли**: Проверьте правильность формата `config.yml` (используйте YAML-валидатор).

## Автор
- **GetSweet** — [YouTube](https://www.youtube.com/@GetSweett)